#{extends 'main.html' /}
#{set title:'showGame.html' /}

<script type="text/javascript">
   var auto_refresh = setInterval(
	function ()
	{
	$('#info').load('/gamecontroller/gameinfo');
	}, 3000);
   
</script>

<h1>${player.name} - ${game.name}</h1>

Cards left in drawpile ${gameStatus.cardsInDrawpile()}

<h2>Autoload her</h2>

<div id='info'>
</div>

<h2>Actions</h2>
#{ifErrors}
   #{errors}
       <li style="color:#c00">${error}</li>
   #{/errors}
   <br/>
#{/ifErrors}

<form action='@{GameController.drawCard()}' method='POST'>
	<input type='hidden' name='gameId' id='gameId' value='${game.id}' />
	<input type='submit' name='drawCard' value='Draw a card'/>
</form>
<br/>
<form action='@{GameController.discardCard()}' method='POST'>
	<input type='hidden' name='gameId' id='gameId' value='${game.id}' />
	<input type='number' id='cardNumber' name='cardNumber' />
	<input type='submit' name='discardCard' value='Discard card' />
</form>
<br/>
<form action='@{GameController.putCardOutOfPlay()}' method='POST'>
	<input type='hidden' name='gameId' id='gameId' value='${game.id}' />
	<input type='number' id='cardNumber' name='cardNumber' />
	<input type='submit' name='putCardOutOfPlay' value='Put card out of play' />
</form>


<br/><a href='/mainPage'>Home</a>